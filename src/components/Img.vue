<template lang="pug">
v-img(
  :src="img"
  :lazy-src="placeholder[gen]"
  :width="width"
  :height="height"
  )
</template>
<script>
export default {
  props: {
    src: String,
    width: String,
    height: String,
    patient: {
      type: Object,
      default() {
        return {};
      }
    },
    gender: {
      type: String,
      default: "m"
    }
  },
  data() {
    return {
      error: false,
      gen: "",
      img: "",
      placeholder: {
        m:
          "data:image/jpeg;base64,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",
        f:
          "data:image/png;base64,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"
      }
    };
  },
  mounted() {
    this.setup();
  },
  watch: {
    patient() {
      this.setup();
    },
    src() {
      this.setup();
    }
  },
  methods: {
    setup() {
      this.error = false;
      this.img = this.src || this.patient.image;
      this.gen = (this.patient.gender || this.gender).toLowerCase();
      if (!this.img.match(/\.png/g)) {
        this.img = this.placeholder[this.gen];
      }
    }
  }
};
</script>
